{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"../square/square.component\";\nimport * as i5 from \"../../pipes/get-class.pipe\";\nfunction BoardComponent_h1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \" Next Player : \");\n    i0.ɵɵelementStart(2, \"b\");\n    i0.ɵɵpipe(3, \"getClass\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind1(3, 4, ctx_r0.player));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.player);\n  }\n}\nfunction BoardComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"Game Over\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BoardComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" Player \");\n    i0.ɵɵelementStart(2, \"b\");\n    i0.ɵɵpipe(3, \"getClass\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" wins ! \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind1(3, 4, ctx_r3.winner));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.winner);\n  }\n}\nfunction BoardComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Draw ! \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction BoardComponent_app_square_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-square\", 5);\n    i0.ɵɵlistener(\"click\", function BoardComponent_app_square_12_Template_app_square_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.makeMove(i_r7));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const square_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", square_r6);\n  }\n}\nexport class BoardComponent {\n  ngOnInit() {\n    this.newGame();\n  }\n  // we initialize the game\n  //// we set the squares to an array of 9 nulls\n  //// we set the winner to null\n  //// we set xIsNext to true\n  newGame() {\n    this.squares = Array(9).fill(null);\n    this.winner = undefined;\n    // X is the first player\n    this.xIsNext = true;\n  }\n  // identify the current player\n  get player() {\n    return this.xIsNext ? 'X' : 'O';\n  }\n  // simulate a move\n  makeMove(idx) {\n    if (!this.squares[idx]) {\n      // if the square is falsy, we fill it with the current player\n      this.squares.splice(idx, 1, this.player);\n      // we switch the player\n      this.xIsNext = !this.xIsNext;\n    }\n    // we check if there is a winner\n    this.winner = this.calculateWinner();\n  }\n  // check if there is a winner\n  // cf React tutorial: https://reactjs.org/tutorial/tutorial.html#declaring-a-winner\n  calculateWinner() {\n    // we define the winning combinations\n    const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    // we loop through the winning combinations\n    for (let i = 0; i < lines.length; i++) {\n      // we destructure the winning combination\n      const [a, b, c] = lines[i];\n      // if the squares at the winning combination indexes are all equal and not falsy\n      if (this.squares[a] && this.squares[a] === this.squares[b] && this.squares[a] === this.squares[c]) {\n        // we return the winner\n        // we use the nullish coalescing operator to return the winner\n        // if it's not null or undefined (meaning there is already a winner)\n        return this.winner ?? this.squares[a];\n      }\n    }\n    // if there is no winner yet, return undefined, if it's a draw, return null\n    return this.squares.includes(null) ? undefined : null;\n  }\n}\nBoardComponent.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)();\n};\nBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 13,\n  vars: 5,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"gameOver\", \"\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [4, \"ngIf\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\", \"click\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\");\n      i0.ɵɵtemplate(2, BoardComponent_h1_2_Template, 5, 6, \"h1\", 0);\n      i0.ɵɵtemplate(3, BoardComponent_ng_template_3_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"mat-card-content\")(6, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function BoardComponent_Template_button_click_6_listener() {\n        return ctx.newGame();\n      });\n      i0.ɵɵtext(7, \" NEW GAME \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"h2\");\n      i0.ɵɵtemplate(9, BoardComponent_ng_container_9_Template, 6, 6, \"ng-container\", 3);\n      i0.ɵɵtemplate(10, BoardComponent_ng_container_10_Template, 2, 0, \"ng-container\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"main\");\n      i0.ɵɵtemplate(12, BoardComponent_app_square_12_Template, 1, 1, \"app-square\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.winner || ctx.winner === null)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.winner);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.winner === null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.squares);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.MatButton, i3.MatCard, i3.MatCardContent, i3.MatCardHeader, i4.SquareComponent, i5.GetClassPipe],\n  styles: [\"[_nghost-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\nmat-card[_ngcontent-%COMP%] {\\n  display: flex;\\n  text-align: center;\\n  flex-direction: column;\\n  align-items: center;\\n  margin-top: 2em;\\n}\\n\\nmain[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 8rem 8rem 8rem;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  height: 2rem;\\n}\\n\\napp-square[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid;\\n  height: 8rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ib2FyZC9ib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUFERjs7QUFJQTtFQUNFLGFBQUE7RUFDQSxxQ0FBQTtBQURGOztBQUlBO0VBQ0UsWUFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxpQkFBQTtFQUNBLFlBN0JZO0FBNEJkIiwic291cmNlc0NvbnRlbnQiOlsiJHNxdWFyZS1zaXplOiA4cmVtO1xuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG5tYXQtY2FyZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMmVtO1xufVxuXG5tYWluIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAkc3F1YXJlLXNpemUgJHNxdWFyZS1zaXplICRzcXVhcmUtc2l6ZTtcbn1cblxuaDIge1xuICBoZWlnaHQ6IDJyZW07XG59XG5cbmFwcC1zcXVhcmUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGhlaWdodDogJHNxdWFyZS1zaXplO1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","BoardComponent","ngOnInit","newGame","squares","Array","fill","winner","undefined","xIsNext","player","makeMove","idx","splice","calculateWinner","lines","i","length","a","b","c","includes","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/ishita/Documents/Projects/Angular/TicTacToe/src/app/components/board/board.component.html","/Users/ishita/Documents/Projects/Angular/TicTacToe/src/app/components/board/board.component.ts"],"sourcesContent":["<mat-card>\n    <mat-card-header>\n        <h1 *ngIf=\"!winner || winner === null; else gameOver\">\n            Next Player :\n            <b class=\"{{ player | getClass }}\">{{ player }}</b>\n        </h1>\n        <ng-template #gameOver>\n            <h1>Game Over</h1>\n        </ng-template>\n    </mat-card-header>\n    <mat-card-content>\n        <button mat-flat-button color=\"primary\" (click)=\"newGame()\">\n            NEW GAME\n        </button>\n\n        <h2>\n            <ng-container *ngIf=\"winner\">\n                Player\n                <b class=\"{{ winner | getClass }}\">{{ winner }}</b>\n                wins !\n            </ng-container>\n            <ng-container *ngIf=\"winner === null\">Draw ! </ng-container>\n        </h2>\n\n        <main>\n            <app-square\n                    *ngFor=\"let square of squares; let i = index\"\n                    [value]=\"square\"\n                    (click)=\"makeMove(i)\">\n            </app-square>\n        </main>\n    </mat-card-content>\n</mat-card>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.scss']\n})\nexport class BoardComponent implements OnInit {\n  // representation of the nine squares on the board\n  squares: any[];\n  // help us track whose turn it is\n  xIsNext: boolean;\n  // will either be 'X', 'O', null or undefined\n  winner: 'X' | 'O' | null | undefined;\n\n  ngOnInit() {\n    this.newGame();\n  }\n\n  // we initialize the game\n  //// we set the squares to an array of 9 nulls\n  //// we set the winner to null\n  //// we set xIsNext to true\n  newGame() {\n    this.squares = Array(9).fill(null);\n    this.winner = undefined;\n    // X is the first player\n    this.xIsNext = true;\n  }\n\n  // identify the current player\n  get player() {\n    return this.xIsNext ? 'X' : 'O';\n  }\n\n  // simulate a move\n  makeMove(idx: number) {\n    if (!this.squares[idx]) {\n      // if the square is falsy, we fill it with the current player\n      this.squares.splice(idx, 1, this.player);\n      // we switch the player\n      this.xIsNext = !this.xIsNext;\n    }\n\n    // we check if there is a winner\n    this.winner = this.calculateWinner();\n  }\n\n  // check if there is a winner\n  // cf React tutorial: https://reactjs.org/tutorial/tutorial.html#declaring-a-winner\n  calculateWinner() {\n    // we define the winning combinations\n    const lines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6],\n    ];\n    // we loop through the winning combinations\n    for (let i = 0; i < lines.length; i++) {\n      // we destructure the winning combination\n      const [a, b, c] = lines[i];\n      // if the squares at the winning combination indexes are all equal and not falsy\n      if (\n        this.squares[a] &&\n        this.squares[a] === this.squares[b] &&\n        this.squares[a] === this.squares[c]\n      ) {\n        // we return the winner\n        // we use the nullish coalescing operator to return the winner\n        // if it's not null or undefined (meaning there is already a winner)\n        return this.winner ?? this.squares[a];\n      }\n    }\n    // if there is no winner yet, return undefined, if it's a draw, return null\n    return this.squares.includes(null) ? undefined : null;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}